# Agent Flow Lite 手动测试清单

## 环境准备
- [ ] 后端服务已启动 (http://localhost:8000)
- [ ] 前端服务已启动 (http://localhost:5173)
- [ ] 浏览器开发者工具已打开

---

## 一、后端 API 测试

### 1.1 健康检查
```bash
curl http://localhost:8000/
```
- [ ] 返回状态 200
- [ ] 返回 JSON 包含 status: "running"

### 1.2 工作流 API
- [ ] POST /api/v1/workflows - 创建工作流
- [ ] GET /api/v1/workflows - 获取工作流列表
- [ ] GET /api/v1/workflows/{id} - 获取单个工作流
- [ ] PUT /api/v1/workflows/{id} - 更新工作流
- [ ] DELETE /api/v1/workflows/{id} - 删除工作流

### 1.3 知识库 API
- [ ] POST /api/v1/knowledge - 创建知识库
- [ ] GET /api/v1/knowledge - 获取知识库列表
- [ ] GET /api/v1/knowledge/{id}/info - 获取知识库信息
- [ ] POST /api/v1/knowledge/{id}/upload - 上传文档
- [ ] GET /api/v1/knowledge/{id}/search - 搜索文档

### 1.4 聊天 API
- [ ] POST /api/v1/chat/completions - 发送消息 (SSE 流)
- [ ] GET /api/v1/chat/sessions/{id} - 获取会话历史

---

## 二、前端功能测试

### 2.1 导航和路由
- [ ] 首页正常显示
- [ ] 工作流页面正常显示
- [ ] 知识库页面正常显示
- [ ] 对话页面正常显示
- [ ] 导航切换无错误

### 2.2 工作流编辑器
#### 节点操作
- [ ] 点击左侧节点面板可以添加节点到画布
- [ ] 可以拖拽节点调整位置
- [ ] 可以删除节点

#### 节点配置
- [ ] 点击节点打开配置面板
- [ ] 开始节点：可以编辑输入变量定义
- [ ] LLM节点：可以编辑系统提示词和温度参数
- [ ] 知识库节点：可以选择知识库
- [ ] 条件节点：可以编辑条件表达式
- [ ] 结束节点：可以编辑输出变量
- [ ] **点击保存按钮，配置正确保存**
- [ ] 关闭面板后重新打开，配置值仍然存在

#### 连线功能
- [ ] 可以从一个节点的输出端口拖拽连线到另一个节点的输入端口
- [ ] 连线正确显示
- [ ] **保存工作流后，连线仍然存在**

#### 工作流保存/加载
- [ ] 可以保存工作流
- [ ] 可以加载已保存的工作流
- [ ] 工作流名称正确显示

### 2.3 知识库管理
- [ ] 可以创建知识库
- [ ] 可以上传文档 (.txt, .md)
- [ ] 文档处理状态正确显示
- [ ] 可以删除文档
- [ ] 可以搜索知识库

### 2.4 对话功能
- [ ] 可以发送消息
- [ ] 可以接收流式响应
- [ ] 可以显示思考过程
- [ ] 可以引用知识库

---

## 三、错误检查

### 3.1 浏览器控制台
- [ ] 无红色错误信息
- [ ] 无未处理的 Promise 拒绝

### 3.2 后端日志
- [ ] 无异常堆栈跟踪
- [ ] API 响应时间正常

---

## 四、已知问题记录

| 序号 | 问题描述 | 严重程度 | 状态 |
|------|---------|---------|------|
| 1 | 节点配置保存按钮无响应 | 高 | 待修复 |
| 2 | 节点连线不保存 | 高 | 待修复 |
| 3 | | | |

---

## 测试结论

- [ ] 项目可以正常运行
- [ ] 存在阻塞性问题，需要修复后才能使用

测试日期：_________
测试人员：_________
