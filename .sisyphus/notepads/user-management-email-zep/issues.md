# Task 2: Issues and Concerns

## 迁移考虑

1. **孤儿会话**: 现有无 user_id 的会话在列表中对所有用户可见，但应该考虑数据迁移策略
   - 方案 A: 保留现状（向后兼容但可能有隐私问题）
   - 方案 B: 将孤儿会话分配给特定用户（需要决定如何分配）
   - 方案 C: 提供管理界面让 admin 分配孤儿会话

2. **Zep 数据**: Zep 中的历史数据使用旧格式（无命名空间）
   - 这可能导致用户看到其他用户的记忆（如果他们知道 session_id）
   - 需要清空 Zep 数据或接受暂时的数据泄露风险

## 已知限制

1. **流式响应测试**: 无法轻易验证流式响应中的会话保存逻辑，因为保存发生在流被消费时
2. **类型检查**: LSP 服务器未安装，一些类型错误可能未被发现

## 安全考虑

1. **孤儿会话**: 任何用户都可以访问没有 user_id 的会话，这可能不是预期的行为
2. **Admin 权限**: 当前 admin 可以访问和删除任何会话，但没有审计日志
